!function(){"use strict";var e={38:function(e,t,n){var a,l=(a=n(121))&&a.__esModule?a:{default:a};document.addEventListener("DOMContentLoaded",(()=>{(0,l.default)()}))},121:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n(207)),l=r(n(629));function r(e){return e&&e.__esModule?e:{default:e}}t.default=()=>{a.default.component.registerMany({ChatGPTField:l.default})}},629:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=i(t);if(n&&n.has(e))return n.get(e);var a={__proto__:null},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&{}.hasOwnProperty.call(e,r)){var o=l?Object.getOwnPropertyDescriptor(e,r):null;o&&(o.get||o.set)?Object.defineProperty(a,r,o):a[r]=e[r]}return a.default=e,n&&n.set(e,a),a}(n(594)),r=(a=n(551))&&a.__esModule?a:{default:a},o=n(556);function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(i=function(e){return e?n:t})(e)}t.default=e=>{const[t,n]=(0,l.useState)(""),[a,i]=(0,l.useState)(!1),[u,d]=(0,l.useState)("rewrite-existing-text"),s=(0,l.useRef)(null),c=(0,l.useRef)(null),f=e.data.styleGuide.replace(/\n/g,", "),m=()=>{const t=s.current.value;if(!t)return void n("Please enter some text in the field above.");const a=`${e.data.queryUrl}?mode=rewrite-existing-text`;i(!0),fetch(a,{method:"POST",body:t}).then((e=>e.text())).then((e=>{n(e),i(!1)}))},p=()=>{const t=c.current.value;if(!t)return void n("Please enter some text in the field above.");const a=`${e.data.queryUrl}?mode=freeform-prompt`;i(!0),fetch(a,{method:"POST",body:t}).then((e=>e.text())).then((e=>{n(e),i(!1)}))},h="rewrite-existing-text"===u?l.default.createElement("div",{className:"ChatGPTField__rewriteExistingText"},l.default.createElement("div",null,"Use this mode to rewrite existing text applying the style guide to it"),l.default.createElement("div",null,l.default.createElement("strong",null,"Paste in text here:"),l.default.createElement("br",null),l.default.createElement(o.Input,{type:"textarea",rows:"8",innerRef:s})),l.default.createElement("div",null,l.default.createElement(r.default,{color:"warning",onClick:m},"Submit"))):l.default.createElement("div",{className:"ChatGPTField__freePrompt"},l.default.createElement("div",null,l.default.createElement("strong",null,"Enter a free form prompt request that will have the style guide applied to it:"),l.default.createElement("br",null),l.default.createElement(o.Input,{type:"textarea",rows:"8",innerRef:c})),l.default.createElement("div",null,l.default.createElement(r.default,{color:"warning",onClick:p},"Submit")));return l.default.createElement("div",{className:"ChatGPTField no-change-track"},l.default.createElement("div",null,l.default.createElement("strong",null,"Mode: "),l.default.createElement(r.default,{color:"info",onClick:()=>d("rewrite-existing-text")},"Existing text mode"),l.default.createElement(r.default,{color:"info",onClick:()=>d("freeform-prompt")},"Freeform prompt mode")),h,l.default.createElement("div",null,a&&l.default.createElement("span",null,"Communicating with ChatGPT...")),l.default.createElement("div",null,l.default.createElement("strong",null,"Style guide: "),f),t&&l.default.createElement("div",null,l.default.createElement("strong",null,"Response from ChatGPT:"),l.default.createElement("br",null),l.default.createElement(o.Input,{type:"textarea",rows:"16",value:t,readOnly:"true"})),l.default.createElement("div",null,l.default.createElement("strong",null,"Sample text that could be optimised:"),l.default.createElement("br",null),"All information (including name and address details) contained in submissions will be made available to the public on the website unless you indicate that you would like all or part of your submission to remain in confidence. Automatically generated confidentiality statements in emails do not suffice for this purpose.",l.default.createElement("br",null),l.default.createElement("br",null),"Respondents who would like part of their submission to remain in confidence should provide this information marked as such in a separate attachment."))}},541:function(e,t,n){var a=i(n(669)),l=i(n(594)),r=i(n(145)),o=n(207);function i(e){return e&&e.__esModule?e:{default:e}}function u(){return u=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},u.apply(this,arguments)}a.default.entwine("ss",(e=>{e(".js-injector-boot .entwine-chatgpt-field").entwine({Component:null,Root:null,onmatch(){const e=this.closest(".cms-content").attr("id"),t=e?{context:e}:{},n=this.data("schema-component"),a=(0,o.loadComponent)(n,t);this.setComponent(a),this.setRoot(r.default.createRoot(this[0])),this._super(),this.refresh()},refresh(){const e=this.getProps();this.getInputField().val(e.value);const t=this.getComponent();this.getRoot().render(l.default.createElement(t,u({},e,{noHolder:!0})))},handleChange(e){this.getInputField().data("value",e),this.refresh()},getProps(){const e=this.getInputField();return{...e.data("schema"),...e.data("state"),data:{...e.data("schema").data,...e.data("state").data},onChange:this.handleChange.bind(this)}},getInputField(){const t=this.data("field-id");return e(`#${t}`)},onunmatch(){const e=this.getRoot();e&&e.unmount()}})}))},551:function(e){e.exports=Button},207:function(e){e.exports=Injector},594:function(e){e.exports=React},145:function(e){e.exports=ReactDomClient},556:function(e){e.exports=Reactstrap},669:function(e){e.exports=jQuery}},t={};function n(a){var l=t[a];if(void 0!==l)return l.exports;var r=t[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n(38),n(541)}();